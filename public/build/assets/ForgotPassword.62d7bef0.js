import{u as k,m as S,K as V,d as _,q as f,s as x,v as I,x as q,r as i,o as l,c as u,a as n,i as m,g as r,t as d,b as N,z as M,w as C,A as D,$ as E}from"./main.85eae20a.js";const F=["onSubmit"],G={key:0},z={key:1},A={class:"mt-4 mb-4 text-sm"},P={__name:"ForgotPassword",setup(K){const g=k(),{t:c}=S(),o=V({email:""}),p=_(!1),t=_(!1),$={email:{required:f.withMessage(c("validation.required"),x),email:f.withMessage(c("validation.email_incorrect"),I)}},a=q($,o);async function y(s){if(a.value.$touch(),!a.value.$invalid)try{t.value=!0,(await D.post("/api/v1/auth/password/email",o)).data&&g.showNotification({type:"success",message:"Mail sent successfully"}),p.value=!0,t.value=!1}catch(e){E(e),t.value=!1}}return(s,e)=>{const b=i("BaseInput"),h=i("BaseInputGroup"),B=i("BaseButton"),w=i("router-link");return l(),u("form",{id:"loginForm",onSubmit:C(y,["prevent"])},[n(h,{error:r(a).email.$error&&r(a).email.$errors[0].$message,label:s.$t("login.enter_email"),class:"mb-4",required:""},{default:m(()=>[n(b,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=v=>o.email=v),invalid:r(a).email.$error,focus:"",type:"email",name:"email",onInput:e[1]||(e[1]=v=>r(a).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(B,{loading:t.value,disabled:t.value,type:"submit",variant:"primary"},{default:m(()=>[p.value?(l(),u("div",z,d(s.$t("validation.not_yet")),1)):(l(),u("div",G,d(s.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),N("div",A,[n(w,{to:"/login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:m(()=>[M(d(s.$t("general.back_to_login")),1)]),_:1})])],40,F)}}};export{P as default};
