import{m as S,M as V,K as I,d as f,e as q,q as g,s as x,v as M,x as N,r,o as u,c as m,a as n,i as d,g as i,t as c,b as C,z as D,w as F}from"./main.85eae20a.js";import{u as G}from"./auth.71cf31c6.js";const P=["onSubmit"],z={key:0},A={key:1},E={class:"mt-4 mb-4 text-sm"},T={__name:"ForgotPassword",setup(K){const $=G(),{t:p}=S(),b=V(),s=I({email:"",company:""}),v=f(!1),a=f(!1),h=q(()=>({email:{required:g.withMessage(p("validation.required"),x),email:g.withMessage(p("validation.email_incorrect"),M)}})),e=N(h,s);function y(o){if(e.value.$touch(),e.value.$invalid)return!0;a.value=!0;let t={...s,company:b.params.company};$.forgotPassword(t).then(l=>{a.value=!1}).catch(l=>{a.value=!1}),v.value=!0}return(o,t)=>{const l=r("BaseInput"),B=r("BaseInputGroup"),k=r("BaseButton"),w=r("router-link");return u(),m("form",{id:"loginForm",onSubmit:F(y,["prevent"])},[n(B,{error:i(e).email.$error&&i(e).email.$errors[0].$message,label:o.$t("login.enter_email"),class:"mb-4",required:""},{default:d(()=>[n(l,{modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=_=>s.email=_),type:"email",name:"email",invalid:i(e).email.$error,onInput:t[1]||(t[1]=_=>i(e).email.$touch())},null,8,["modelValue","invalid"])]),_:1},8,["error","label"]),n(k,{loading:a.value,disabled:a.value,type:"submit",variant:"primary"},{default:d(()=>[v.value?(u(),m("div",A,c(o.$t("validation.not_yet")),1)):(u(),m("div",z,c(o.$t("validation.send_reset_link")),1))]),_:1},8,["loading","disabled"]),C("div",E,[n(w,{to:"login",class:"text-sm text-primary-400 hover:text-gray-700"},{default:d(()=>[D(c(o.$t("general.back_to_login")),1)]),_:1})])],40,P)}}};export{T as default};
